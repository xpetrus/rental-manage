{% extends 'base.html' %}
{% block title %}Home{% endblock %}

{% block content %}
{% if user.is_authenticated %}

    <div class = "card homething">


    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarText">
            <ul class="navbar-nav mr-auto">
              <li class="nav-item">
                <a class="nav-link" href="{% url 'rentals:index' %}">Rental Management</a>
              </li>
              <li class="nav-item active">
                <a class="nav-link" href="{% url 'rentals:vendor' %}">Vendors<span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{% url 'rentals:invoice' %}">Invoices</a>
              </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown">
                      Add Records
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                      <a class="dropdown-item" href="{% url 'rentals:new_rental' %}">Add Rental</a>
                      <a class="dropdown-item" href="{% url 'rentals:new_vendor' %}">Add Vendor</a>
                      <a class="dropdown-item" href="{% url 'rentals:new_invoice' %}">Add Invoice</a>
                    </div>
                </li>
            </ul>
          </div>
    </nav>
        <div class = "card-body formbod">
            <p class = "card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate
                velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident,
                sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>
            <form id="searchform" action="filter_vendor" method="get">
                 <input id="searchbox" name="salesperson" type="text" placeholder="Search by name" value = "{{ query }}">
                  <button class="btn btn-secondary" type="submit">
                    Submit
                  </button>

            </form>
            <h1>Vendors:</h1>
            {% for vendor in vendors %}
            <div class = "card listcard">
                <div class = "row">
                    <div class = 'col-md-10'>
                        <div class = 'container listcont'>
                            <p class = 'listthing'>Vendor ID: {{vendor.Vendor_ID}}</p>
                            <p class = 'listthing'>Salesperson: {{vendor.Sales_Person}}</p>
                            <p class = 'listthing'>Address: {{vendor.Address}}</p>
                            <p class = 'listthing'>Contact: {{vendor.Contact}}</p>
                        </div>
                    </div>
                    <div class = 'col-md-2'>
                        <div class = "container">
                            <form class = 'flex-container' method = "post">
                                {% csrf_token %}
                                <div class = "input-group">
                                    <input type = "hidden" name = "pk" value ="{{vendor.pk}}">
                                    <button name = "delete" type = "submit" class = 'btn btn-danger pushdown'>Delete</button>
                                </div>

                            </form>

                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

    </div>


{% else %}
<div class = "jumbotron loginthing">
    <h6 class = "display-4 jumtext">Mosites Rental Management</h6>
    <div class = "buttons d-flex justify-content-center">
        <a class = "btn btn-info btn-lg loginbut" href="{% url 'login' %}">Login</a>
        <a class = "btn btn-warning btn-lg loginbut" href="{% url 'login' %}">Create Account</a>
    </div>

     <!--what is this syntx-->
</div>

{% endif %}
{% endblock %}
